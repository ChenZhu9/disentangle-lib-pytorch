defaults:
  # runtime
  - run_length: short
  - run_logging: wandb
  - run_location: heartofgold
  # plugins
  - hydra/job_logging: colorlog
  - hydra/hydra_logging: colorlog
  - hydra/launcher: submitit_slurm

trainer:
  cuda: TRUE
  steps: 10000

framework:
  # optimizer options
  optimizer_name: 'sgd'
  optimizer_lr: 5e-2
  optimizer_kwargs: NULL
  # dataset config options
  dataset_name: 'cars3d'
  dataset_num_workers: 12
  dataset_batch_size: 1024  # x3
  data_root: ${dataset.data_root}
  # loss config options
  loss_fn: 'mse'
  loss_mode: 'self'
  loss_const_targ: 0.1
  # sampling config
  sampler_name: 'close_far'
  sampler_kwargs: NULL
  # train options
  train_batch_optimizer: TRUE
  train_dataset_fp16: TRUE

exp:
  seed: 777
#  rel_save_dir: data/adversarial_kernel
#  save_name: ${job.name}.pt
#  show_every_n_steps: 100

job:
  user: 'n_michlo'
  project: 'exp-disentangle-dataset'
  name: s${trainer.steps}_${framework.optimizer_name}_${framework.optimizer_lr}_${framework.loss_mode}_${framework.loss_fn}_${framework.loss_const_targ}_${framework.dataset_name}
  partition: stampede
