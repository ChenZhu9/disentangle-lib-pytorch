defaults:
  # system
  - framework: betavae
  - model: vae_conv64
  - optimizer: adam
  - schedule: none
  - run_length: long
  # data
  - dataset: xyobject
  - sampling: none
  - augment: none
  # logs
  - metrics: all
  - run_callbacks: vis
  - run_logging: wandb
  - hydra/job_logging: colorlog
  - hydra/hydra_logging: colorlog
  # runtime
  - run_location: stampede_tmp
  - run_launcher: slurm
  - hydra/launcher: submitit_slurm
  # action
  - action: train

job:
  user: '${env:USER}'
  project: 'test-project'
  name: '${framework.name}:${framework.module.recon_loss}|${dataset.name}:${sampling.name}|${trainer.steps}'
  seed: NULL

framework:
    beta: 0.001
    module:
      recon_loss: mse
      loss_reduction: mean  # TODO: this should be renamed to `loss_mode="scaled"` or `enable_loss_scaling=True"` or `enable_beta_scaling`

    # only some frameworks support these features
    optional:
      latent_distribution: normal  # only used by VAEs
      overlap_loss: NULL  # only used for experimental dotvae and dorvae  # pragma: delete-on-release
      usage_ratio: 0.5    # only used by adversarial masked datasets      # pragma: delete-on-release

model:
  z_size: 25
  weight_init: 'xavier_normal'  # xavier_normal, default

dataset:
  batch_size: 256

optimizer:
  lr: 1e-3
