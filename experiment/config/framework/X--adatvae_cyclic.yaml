# @package _group_
name: adatvae_cyclic
module:
  _target_: disent.frameworks.vae.supervised.AdaTripletVae
  beta: ${framework.beta}
  # tvae: triplet stuffs
  triplet_loss: triplet
  triplet_margin_min: 0.001
  triplet_margin_max: 1
  triplet_scale: 0.1
  triplet_p: 2
  # tvae: no loss from decoder -> encoder
  detach: FALSE
  detach_decoder: FALSE
  detach_no_kl: FALSE
  detach_logvar: NULL  # set to NULL to disable fixed value
  # adatvae: what version of triplet to use
  triplet_mode: 'trip_AND_softAve'
  # adatvae: annealing
  ada_triplet_ratio: 0.25
  ada_triplet_schedule: # TODO: this does not support referencing other variables
    _target_: disent.schedule.Clip
    min_step: 14400
    shift_step: TRUE
    schedule:
      _target_: disent.schedule.CyclicSchedule
      period: 7200
      mode: 'linear'

# settings used elsewhere
data_wrap_mode: triplet
model_z_multiplier: 2





