# @package _group_
name: adatvae
module:
  _target_: disent.frameworks.vae.supervised.AdaTripletVae
  beta: ${framework.beta}
  # tvae: triplet stuffs
  triplet_loss: triplet
  triplet_margin_min: 0.001
  triplet_margin_max: 1
  triplet_scale: 0.1
  triplet_p: 2
  # tvae: no loss from decoder -> encoder
  detach: FALSE
  detach_decoder: FALSE
  detach_no_kl: FALSE
  detach_logvar: NULL  # set to NULL to disable fixed value
  # adatvae: what version of triplet to use
  triplet_mode: 'trip_AND_softAve'
  # adatvae: annealing
  ada_triplet_ratio: 1.0
  ada_triplet_schedule: # TODO: this does not support referencing other variables
    _target_: disent.schedule.Clip
    min_step: 7200
    shift_step: TRUE
    schedule:
      _target_: disent.schedule.LinearSchedule
      min_step: 0
      max_step: 21600  # long_run - offset: 28800 - 7200 = 21600

# settings used elsewhere
data_wrap_mode: triplet
model_z_multiplier: 2





